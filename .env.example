# =========================
# Project: poc-qemu_on_docker
# Phase 1: Local Swarm Lab (QEMU VMs)
# Copy to .env and adjust.
# =========================

# Lab identity
LAB_NAME=swarm-lab
LAB_NODES=4

# Paths (relative recommended)
WORKDIR=work
IMAGES_DIR=work/images
SEEDS_DIR=work/seeds
LOGS_DIR=work/logs
DOWNLOADS_DIR=work/downloads

# Base cloud image (Ubuntu example)
BASE_IMAGE_NAME=ubuntu-24.04-server-cloudimg-amd64.img
BASE_IMAGE_URL=https://cloud-images.ubuntu.com/releases/24.04/release/ubuntu-24.04-server-cloudimg-amd64.img

# VM sizing
VM_CPU=2
VM_RAM_MB=4096
VM_DISK_GB=20

# Networking
# Swarm NIC attaches to this host bridge (must exist)
SWARM_BRIDGE=br0

# Management access:
# - user: QEMU user-mode networking + hostfwd ports for SSH (simplest and safe)
# - bridge: attach mgmt NIC to a host bridge (more realistic)
MGMT_MODE=user
MGMT_BRIDGE=br-mgmt

# If MGMT_MODE=user, node i SSH is localhost:(MGMT_SSH_FWD_BASE+i)
MGMT_SSH_FWD_BASE=2220

# Deterministic MAC addressing
# Node i MAC becomes: MAC_PREFIX:XX where XX = i in hex (01..)
MAC_PREFIX=52:54:00:ab:cd

# SSH
SSH_USER=ubuntu
SSH_PUBKEY_PATH=~/.ssh/id_ed25519.pub

# Optional knobs
MTU_HINT=1500
